(this.webpackJsonptest_task_5=this.webpackJsonptest_task_5||[]).push([[0],{16:function(e,t,n){e.exports={container:"Converter_container__2G19P",main:"Converter_main__yS006",arrow:"Converter_arrow__xTEKg",h1:"Converter_h1__1hFJQ"}},20:function(e,t,n){e.exports={header:"Header_header__1anp-",title:"Header_title__100jh",btn:"Header_btn__2RmZu"}},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(17),r=n.n(c),s=n(5),u=n(18),i=n(2),l=n(11),o=n(10),j=n.n(o),d=n(14),b=n(19),_=function(e,t){return Object(d.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.frankfurter.app/latest?amount=1&from=".concat(e,"&to=").concat(t));case 2:return a=n.sent,n.next=5,a.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()},f=function(e,t){return Object(d.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.frankfurter.app/latest?amount=1&from=".concat(e,"&to=").concat(t));case 2:return a=n.sent,n.next=5,a.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()},p=function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_(e,t);case 3:c=n.sent,a(y(Object.values(c.rates)[0])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(d.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f(e,t);case 3:c=n.sent,a(N(c.rates)),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),new n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},O=Object(b.b)({name:"exchanger",initialState:{currenties:["RUB","USD","EUR","GBP","CHF","JPY"],rates:[],rate:1,from:"USD",to:"RUB"},reducers:{setAmount:function(e,t){e.amount=t.payload},setFrom:function(e,t){e.from=t.payload},setTo:function(e,t){e.to=t.payload},setRates:function(e,t){e.rates=t.payload},setRate:function(e,t){e.rate=t.payload}}}),h=O.actions,m=(h.setAmount,h.setFrom),v=h.setTo,N=h.setRates,y=h.setRate,V=O.reducer,k=n(20),g=n.n(k),F=n(1);var R=function(e){var t=e.title,n=e.btn,a=e.link;return Object(F.jsxs)("header",{className:g.a.header,children:[Object(F.jsx)("div",{className:g.a.title,children:t}),Object(F.jsx)(u.b,{to:a,children:Object(F.jsx)("button",{className:g.a.btn,children:n})})]})},w=n(24),I=n(28),S=n(8),C=n.n(S),E=["defaultValue","setValue","excludedValue","inputValue","setInputValue","input"];var U=function(e){var t=e.defaultValue,n=e.setValue,c=e.excludedValue,r=e.inputValue,u=e.setInputValue,i=e.input,o=Object(I.a)(e,E),j=Object(a.useRef)(null),d=Object(a.useState)(!1),b=Object(l.a)(d,2),_=b[0],f=b[1],p=Object(s.c)((function(e){return e.exchange.currenties})).filter((function(e){return e!==t&&e!==c}));return function(e,t){Object(a.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t(!1)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])}(j,f),Object(F.jsxs)("div",{className:C.a.inputField,children:[Object(F.jsx)("input",Object(w.a)(Object(w.a)({},o),{},{className:C.a.input,onChange:function(e){return function(e){u(e.target.value)}(e)},value:i?(r*i).toFixed(3):r,type:"text"})),Object(F.jsxs)("div",{ref:j,className:C.a.select,children:[Object(F.jsxs)("div",{onClick:function(){f(!_)},className:C.a.default_select,children:[Object(F.jsx)("div",{className:C.a.defaultValue,children:t}),Object(F.jsx)("div",{className:_?C.a.logo_active:C.a.logo})]}),Object(F.jsx)("ul",{className:_?C.a.ul_active:C.a.ul,children:p.map((function(e,t){return Object(F.jsx)("li",{onClick:function(){return function(e){n(e),""===r&&u(1),f(!1)}(e)},className:C.a.li,children:e},t)}))})]})]})},H=n(16),B=n.n(H);var J=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.exchange})),n=t.from,c=t.to,r=t.rate,u=Object(a.useState)(1),i=Object(l.a)(u,2),o=i[0],j=i[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(R,{title:"\u041e\u0431\u043c\u0435\u043d \u0432\u0430\u043b\u044e\u0442",btn:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442",link:"/currency_rate"}),Object(F.jsxs)("main",{className:B.a.container,children:[Object(F.jsx)("h1",{className:B.a.h1,children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0443"}),Object(F.jsxs)("div",{className:B.a.main,children:[Object(F.jsx)(U,{defaultValue:n,excludedValue:c,setValue:function(t){e(m(t)),e(p(t,c))},inputValue:o,setInputValue:j}),Object(F.jsx)("div",{className:B.a.arrow}),Object(F.jsx)(U,{defaultValue:c,excludedValue:n,setValue:function(t){e(v(t)),e(p(n,t))},readOnly:!0,inputValue:r,input:o})]})]})]})},q=n(9),D=n.n(q);var Y=function(){for(var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(s.c)((function(e){return e.exchange})),u=r.rates,i=r.from,o=r.currenties,j=Object(s.b)(),d=[],b=0,_=Object.entries(u);b<_.length;b++){var f=Object(l.a)(_[b],2),p=f[0],O=f[1];d.push({name:p,value:O})}return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(R,{title:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442",btn:"\u041e\u0431\u043c\u0435\u043d \u0432\u0430\u043b\u044e\u0442",link:"/"}),Object(F.jsxs)("main",{className:D.a.container,children:[Object(F.jsx)("h1",{className:D.a.h1,children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442"}),Object(F.jsxs)("div",{className:D.a.main,children:[Object(F.jsx)(U,{defaultValue:i,setValue:function(e){j(m(e)),j(x(e,o.join()))},setInputValue:c,inputValue:n}),Object(F.jsxs)("div",{className:D.a.equal,children:[Object(F.jsx)("div",{className:D.a.fstick}),Object(F.jsx)("div",{className:D.a.sstick})]}),Object(F.jsx)("div",{className:D.a.rates,children:d.map((function(e,t){return Object(F.jsxs)("div",{className:D.a.rate,children:[Object(F.jsx)("span",{className:D.a.name,children:e.name}),Object(F.jsx)("span",{className:D.a.value,children:(e.value*n).toFixed(3)})]},t)}))})]})]})]})};var A=function(){var e=Object(s.c)((function(e){return e.exchange})),t=e.from,n=e.to,c=e.currenties,r=Object(s.b)();return Object(a.useEffect)((function(){r(p(t,n)),r(x(t,c.join()))}),[]),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(i.d,{children:[Object(F.jsx)(i.b,{exact:!0,path:"/",children:Object(F.jsx)(J,{})}),Object(F.jsx)(i.b,{path:"/currency_rate",children:Object(F.jsx)(Y,{})}),Object(F.jsx)(i.a,{to:"/"})]})})},L=(n(41),Object(b.a)({reducer:{exchange:V}}));r.a.render(Object(F.jsx)(u.a,{children:Object(F.jsx)(s.a,{store:L,children:Object(F.jsx)(A,{})})}),document.getElementById("root"))},8:function(e,t,n){e.exports={input:"InputField_input__XyNcJ",inputField:"InputField_inputField__yqcH5",select:"InputField_select__3dr8S",default_select:"InputField_default_select__2Q8q7",defaultValue:"InputField_defaultValue__2Mukj",logo:"InputField_logo__2zv73",logo_active:"InputField_logo_active__3NYsl",ul:"InputField_ul__2Nip1",ul_active:"InputField_ul_active__3D8sl",li:"InputField_li__262UB"}},9:function(e,t,n){e.exports={container:"\u0421urrencyRate_container__2ESUb",main:"\u0421urrencyRate_main__2W49Y",h1:"\u0421urrencyRate_h1__2gKWS",equal:"\u0421urrencyRate_equal__1bIlY",fstick:"\u0421urrencyRate_fstick__1UyFA",sstick:"\u0421urrencyRate_sstick__2JHIH",rate:"\u0421urrencyRate_rate__3SDRL",name:"\u0421urrencyRate_name__wI6Sy",value:"\u0421urrencyRate_value__dsgkB"}}},[[42,1,2]]]);
//# sourceMappingURL=main.df7042c3.chunk.js.map