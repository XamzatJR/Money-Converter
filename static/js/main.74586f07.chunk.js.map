{"version":3,"sources":["components/Converter/Converter.module.css","components/Header/Header.module.css","API/index.js","redux/exchangeSlice.js","components/Header/Header.jsx","components/InputxSelect/InputField.jsx","components/Converter/Converter.jsx","components/СurrencyRate/СurrencyRate.jsx","App.js","redux/store.js","index.js","components/InputxSelect/InputField.module.css","components/СurrencyRate/СurrencyRate.module.css"],"names":["module","exports","ExchangeAPI","from","to","fetch","data","json","fetchRate","dispatch","a","res","setRate","Object","values","rates","console","log","fetchRates","setRates","exchangeSlice","createSlice","name","initialState","currenties","rate","reducers","setAmount","state","action","amount","payload","setFrom","setTo","actions","Header","title","btn","link","className","classes","header","InputField","defaultValue","setValue","excludedValue","inputValue","setInputValue","input","props","ref","useRef","useState","active","setActive","useSelector","exchange","filter","el","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","useOutsideAlerter","inputField","onChange","e","value","handleChange","toFixed","type","select","onClick","default_select","logo_active","logo","ul_active","ul","map","i","setNewValue","li","Converter","useDispatch","container","h1","main","arrow","readOnly","СurrencyRate","entries","push","join","equal","fstick","sstick","App","exact","path","store","configureStore","reducer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.74586f07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Converter_container__2G19P\",\"main\":\"Converter_main__yS006\",\"arrow\":\"Converter_arrow__xTEKg\",\"h1\":\"Converter_h1__1hFJQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1anp-\",\"title\":\"Header_title__100jh\",\"btn\":\"Header_btn__2RmZu\"};","export const ExchangeAPI = {\r\n    async converter(from, to) {\r\n        const data = await fetch(`https://api.frankfurter.app/latest?amount=1&from=${from}&to=${to}`);\r\n        return await data.json()\r\n    },\r\n    async currencyRate(from, to) {\r\n        const data = await fetch(`https://api.frankfurter.app/latest?amount=1&from=${from}&to=${to}`);\r\n        return await data.json()\r\n    }\r\n}","import { createSlice } from '@reduxjs/toolkit';\r\nimport { ExchangeAPI } from '../API';\r\n\r\nexport const fetchRate = (from, to) => async (dispatch) => {\r\n  try {\r\n    const res = await ExchangeAPI.converter(from, to);\r\n    dispatch(setRate(Object.values(res.rates)[0]));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport const fetchRates = (from, to) => async (dispatch) => {\r\n  try {\r\n    const res = await ExchangeAPI.currencyRate(from, to);\r\n    dispatch(setRates(res.rates));\r\n  } catch (error) {\r\n    throw new error();\r\n  }\r\n};\r\n\r\nconst exchangeSlice = createSlice({\r\n  name: 'exchanger',\r\n  initialState: {\r\n    currenties: ['CNY', 'USD', 'EUR', 'GBP', 'CHF', 'JPY', 'CAD'],\r\n    rates: [],\r\n    rate: 1,\r\n    from: 'USD',\r\n    to: 'CNY',\r\n  },\r\n  reducers: {\r\n    setAmount: (state, action) => {\r\n      state.amount = action.payload;\r\n    },\r\n    setFrom: (state, action) => {\r\n      state.from = action.payload;\r\n    },\r\n    setTo: (state, action) => {\r\n      state.to = action.payload;\r\n    },\r\n    setRates: (state, action) => {\r\n      state.rates = action.payload;\r\n    },\r\n    setRate(state, action) {\r\n      state.rate = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setAmount, setFrom, setTo, setRates, setRate } = exchangeSlice.actions;\r\nexport default exchangeSlice.reducer;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\nfunction Header({title,btn,link}) {\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.title}>{title}</div>\r\n            <Link to={link}>\r\n            <button className={classes.btn}>{btn}</button>            \r\n            </Link>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useState,useRef,useEffect } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport classes from './InputField.module.css';\r\n\r\n\r\nfunction useOutsideAlerter(ref, setActive) {\r\n    useEffect(() => {\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n            setActive(false)\r\n        }\r\n      }\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", handleClickOutside);\r\n      };\r\n    }, [ref]);\r\n  }\r\n\r\n\r\nfunction InputField({defaultValue,setValue,excludedValue,inputValue,setInputValue,input,...props}) {\r\n    const ref = useRef(null)\r\n    const [active, setActive] = useState(false),\r\n           curr = useSelector(state => state.exchange.currenties),\r\n           currenties = curr.filter(el => el !== defaultValue && el !== excludedValue);\r\n    function changeActive () {\r\n        setActive(!active);\r\n    }\r\n    function setNewValue (el) {\r\n        setValue(el)\r\n        if (inputValue === '') setInputValue(1);\r\n        setActive(false);\r\n    }\r\n    function handleChange(e) {\r\n        setInputValue(e.target.value)\r\n    }\r\n    useOutsideAlerter(ref, setActive)\r\n    return (\r\n        <div className={classes.inputField}>\r\n            <input {...props} className={classes.input} \r\n            onChange={e => handleChange(e)} \r\n            value={input ? (inputValue * input).toFixed(3) : inputValue}\r\n            type=\"text\" /> \r\n            <div ref={ref} className={classes.select}> \r\n                <div onClick={() => changeActive()} className={classes.default_select}>\r\n                    <div className={classes.defaultValue}>{defaultValue}</div>\r\n                    <div className={ active ? classes.logo_active : classes.logo}></div>\r\n                </div>\r\n                <ul className={ active ? classes.ul_active : classes.ul}>\r\n                {currenties.map((el, i) => {\r\n                    return (\r\n                        <li onClick={() => setNewValue(el)} key={i} className={classes.li}>{el}</li>\r\n                    )\r\n                })}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InputField\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setTo,setFrom, fetchRate } from '../../redux/exchangeSlice';\r\nimport Header from '../Header/Header';\r\nimport InputField from '../InputxSelect/InputField'\r\nimport classes from './Converter.module.css'\r\nfunction Converter() {\r\n    const dispatch = useDispatch();\r\n    let {from, to,rate} = useSelector(state => state.exchange)\r\n    const [inputValue, setInputValue] = useState(1)\r\n\r\n        function setNewFrom(from) {\r\n            dispatch(setFrom(from))\r\n            dispatch(fetchRate(from,to))\r\n        }\r\n        function setNewTo(to) {\r\n            dispatch(setTo(to))\r\n            dispatch(fetchRate(from,to))\r\n        }\r\n    return (\r\n        <>\r\n        <Header title={'Обмен валют'} btn={'Курс валют'} link={'/currency_rate'} />\r\n        <main className={classes.container}>\r\n            <h1 className={classes.h1}>Конвертировать валюту</h1>\r\n            <div className={classes.main}>\r\n                <InputField defaultValue={from} excludedValue={to}\r\n                 setValue={setNewFrom} \r\n                 inputValue={inputValue} setInputValue={setInputValue} />\r\n                <div className={classes.arrow}></div>\r\n\r\n                <InputField defaultValue={to} \r\n                excludedValue={from} \r\n                setValue={setNewTo} \r\n                readOnly \r\n                inputValue={rate} input={inputValue} />\r\n            </div>\r\n        </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Converter\r\n","import React, { useState } from 'react';\r\nimport classes from './СurrencyRate.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport InputField from '../InputxSelect/InputField';\r\nimport { fetchRates, setFrom } from '../../redux/exchangeSlice';\r\nimport Header from '../Header/Header';\r\n\r\nfunction СurrencyRate() {\r\n    const [inputValue, setInputValue] = useState(1)\r\n    const {rates, from, currenties} = useSelector(state => state.exchange),\r\n        dispatch = useDispatch(),\r\n        to = [];\r\n    for (let [name, value] of Object.entries(rates)) {\r\n        to.push({name, value})\r\n    }\r\n    function setNewFrom(from) {\r\n        dispatch(setFrom(from))\r\n        dispatch(fetchRates(from,currenties.join()))\r\n    }\r\n    return (\r\n        <>\r\n        <Header title={'Курс валют'} btn={'Обмен валют'} link={'/'} />\r\n        <main className={classes.container}>\r\n            <h1 className={classes.h1}>Текущий курс валют</h1>\r\n            <div className={classes.main}>\r\n                <InputField defaultValue={from} setValue={setNewFrom} setInputValue={setInputValue} inputValue={inputValue} />\r\n                <div className={classes.equal}>\r\n                    <div className={classes.fstick}></div>\r\n                    <div className={classes.sstick}></div>\r\n                </div>\r\n                <div className={classes.rates}>\r\n                    {to.map((el, i) => {\r\n                        return (\r\n                            <div className={classes.rate} key={i}>\r\n                                <span className={classes.name}>{el.name}</span>\r\n                                <span className={classes.value}>{(el.value * inputValue).toFixed(3)}</span>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default СurrencyRate\r\n","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router';\nimport Converter from './components/Converter/Converter';\nimport СurrencyRate from './components/СurrencyRate/СurrencyRate';\nimport { fetchRate, fetchRates } from './redux/exchangeSlice';\n\nfunction App() {\n  let {from, to, currenties} = useSelector(state => state.exchange)\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(fetchRate(from,to))\n    dispatch(fetchRates(from, currenties.join()))\n  }, [])\n  return (\n    <>\n      <Switch>\n        <Route exact path=\"/\">\n          <Converter />\n        </Route>\n        <Route path=\"/currency_rate\">\n          <СurrencyRate />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport exchangeSlice from './exchangeSlice';\r\n\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        exchange: exchangeSlice\r\n    }\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\nimport { store } from './redux/store';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"InputField_input__XyNcJ\",\"inputField\":\"InputField_inputField__yqcH5\",\"select\":\"InputField_select__3dr8S\",\"default_select\":\"InputField_default_select__2Q8q7\",\"defaultValue\":\"InputField_defaultValue__2Mukj\",\"logo\":\"InputField_logo__2zv73\",\"logo_active\":\"InputField_logo_active__3NYsl\",\"ul\":\"InputField_ul__2Nip1\",\"ul_active\":\"InputField_ul_active__3D8sl\",\"li\":\"InputField_li__262UB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"СurrencyRate_container__2ESUb\",\"main\":\"СurrencyRate_main__2W49Y\",\"h1\":\"СurrencyRate_h1__2gKWS\",\"equal\":\"СurrencyRate_equal__1bIlY\",\"fstick\":\"СurrencyRate_fstick__1UyFA\",\"sstick\":\"СurrencyRate_sstick__2JHIH\",\"rate\":\"СurrencyRate_rate__3SDRL\",\"name\":\"СurrencyRate_name__wI6Sy\",\"value\":\"СurrencyRate_value__dsgkB\"};"],"sourceRoot":""}